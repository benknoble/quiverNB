{
  "title": "Challenge 2",
  "cells": [
    {
      "type": "latex",
      "language": "latex",
      "data": "Problem: Show that if $L$ is a regular language, then so is $P$, the set of prefixes of strings in $L$. That is,\n$$P = \\{x : \\exists y : xy \\in L \\}$$\n\nProof: Let $L = L(M)$ for some DFA $M = (Q,\\Sigma,\\delta,q_0,F)$ ($M$ exists, since $L$ is regular). We assume wlog that all states in $Q$ are reachable from $q_0$.\n\nWe construct an $M'$ that accepts $P$, proving its regularity. Let $M' = (Q,\\Sigma,\\delta,q_0,F')$; in other words, the same DFA except that we modify the set of accepting states. We construct $F'$ as follows: $q \\in F' \\iff \\exists f \\in F, w \\in \\Sigma^* : (q,w) \\vdash^*_M (f,\\epsilon)$.\n\nWe in fact need one more definition to ease the notation in the proof; it would be sufficient to use $\\vdash^*_M$, but we have found this to be cleaner. So, let $\\delta^*(q \\in Q, \\sigma \\in \\Sigma^*)$ be the state $q' \\in Q$ such that $(q,\\sigma) \\vdash^*_M (q',\\epsilon)$. That is, $\\delta^*$ repeatedly applies $\\delta$ to the state produced by the previous iteration and the suffix of the previous string (of length $\\mid \\sigma \\mid - 1$), finding the 'terminal' state of a string. As an example, we might reword the definition of $F'$ to be $q \\in F' \\iff \\exists f \\in F, w \\in \\Sigma^* : \\delta^*(q,w) = f$.\n\nWe show that $L(M') = P$; that is, $x \\in P \\iff x \\in L(M')$.\n\nFirst, take $x \\in L(M')$. $\\exists q : \\delta^*(q_0,x) = q$. Since $x \\in L(M')$, $q \\in F'$, and so therefore $\\exists f \\in F, y \\in \\Sigma^* : \\delta^*(q,y) = f$ by the definition of $F'$. Then clearly $x$ is a prefix of $xy$ by definition and further, $xy \\in L$ since $\\delta^*(q_0,xy) = f$, going through $q$. $\\therefore x \\in P$.\n\nNow, take any $x \\in P$; it has a corresponding $y$ such that $xy \\in L$. Further, $\\delta^*(q_0,xy)$ must be some final state $f$. But now, note that the path from $q_0$ to $f$ must pass through some state $q$ after reading all characters from $x$; then, $\\delta^*(q_0,x) = q$ and $\\delta^*(q,y) = f$. By definition, $q \\in F'$, and so $x \\in L(M')$.\n\nThus $P = L(M')$ and $P$ is regular. $\\diamond$"
    }
  ]
}